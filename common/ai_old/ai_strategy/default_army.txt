ask_foreign_manpower_as_major = {
	enable = {
		is_major = yes
		garrison_manpower_need > 200000
	}
	
	abort = {
		garrison_manpower_need < 100000
	}

	ai_strategy = {
		type = asking_foreign_garrison
		value = 100
	}
}
do_not_waste_pp_if_saving_for_manpower_laws = {

	enable = {
		or = {
			is_major = yes
			manpower_per_military_factory < 500
			has_war = yes
		}
	}
	abort = {
		OR = {
			manpower_per_military_factory > 500
			has_war = no
		}
	}

	ai_strategy = {
		type = pp_spend_priority
		id = relation
		value = -9999
	}

	ai_strategy = {
		type = pp_spend_priority
		id = guarantee
		value = -9999
	}
}

default_garrison_production = {
	enable = {
		ai_wants_divisions >  12 #Massively decreasing the amount of garrison and suppression the AI wants
		is_major = yes
	}
	abort = {
		ai_wants_divisions < 13 #Massively decreasing the amount of garrison and suppression the AI wants
		is_major = no
	}

	ai_strategy = {
		type = role_ratio
		id = garrison
		value = 5
	}
}
default_unit_production = {
	enable = {
		always = yes
	}
	abort = {
		always = no
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = 5
	}
	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 0
	}
	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 5
	}
	ai_strategy = {
		type = role_ratio
		id = marines
		value = 5
	}
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -100
	}
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -200 #because doctrine this = 2
	}
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -3 #because doctrine this = 0
	}
	ai_strategy = {
		type = role_ratio
		id = armor
		value = -13 #because doctrine this = 3
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 70 #88 to 70
	}

	#Air unit factors
	ai_strategy = {
		type = unit_ratio
		id = fighter
		value = 100
	}
	ai_strategy = {
		type = unit_ratio
		id = cas
		value = 50 #because doctrine this = 15
	}
	ai_strategy = {
		type = unit_ratio
		id = tactical_bomber
		value = -50
	}
	ai_strategy = {
		type = unit_ratio
		id = strategic_bomber
		value = 50
	}
	ai_strategy = {
		type = unit_ratio
		id = naval_bomber
		value = 25
	}

	# Naval unit factors
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 10
	}
	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 10
	}
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 40
	}
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 15
	}

	#Production Factory factor
	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 30
	}
}

default_template_design = {
	enable = {
		date < 1940.1.1
	}
	abort = {
		date > 1940.1.1
	}

	ai_strategy = {
		type = template_prio
		id = infantry
		value = 20
	}
	ai_strategy = {
		type = template_prio
		id = artillery
		value = 20
	}
	ai_strategy = {
		type = template_prio
		id = motorized
		value = -50
	}
	ai_strategy = {
		type = template_prio
		id = cavalry
		value = -100
	}
	ai_strategy = {
		type = template_prio
		id = light_armor
		value = 30
	}
	ai_strategy = {
		type = template_prio
		id = heavy_armor
		value = -50
	}
	ai_strategy = {
		type = template_prio
		id = paratroopers
		value = -50
	}
}

default_armored_production = {
	allowed = {
		or = {
			original_tag = NAM
			original_tag = EUR
			original_tag = ASA
			original_tag = 1SA
			original_tag = AFR
			original_tag = OCE
		}
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 15
	}
}
default_highered_armored_production = {
	enable = {
		num_of_military_factories > 199
	}
	abort = {
		num_of_military_factories < 200
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 35
	}
}

default_dont_waste_xp_until_medium_armor = {
	enable = {
		always = yes
	}
	abort = {
		has_template_majority_unit = medium_armor
	}

	ai_strategy = {
		type = template_prio
		id = paratrooper
		value = -100
	}
	ai_strategy = {
		type = template_prio
		id = mountaineers
		value = -100
	}
}

default_halt_light_armor_production_in_transitioning = {
	enable = {
		has_template_majority_unit = medium_armor
		OR = {
			has_equipment = { light_tank_equipment > 600 }
			date > 1939.1.1
		}		
	}
	abort = {
		# once we start we never go back to light armor
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = light_tank_equipment
		value = -100
	}
}
default_super_boost_light_for_med_armor = {
	enable = {
		has_tech = basic_medium_tank
		NOT = { has_template_ai_majority_unit = medium_armor }
	}

	abort = {	
		has_template_ai_majority_unit = medium_armor
	}

	# lets do changes more often during this period too
	ai_strategy = {
		type = template_xp_reserve 
		value = -125
	}

	# this is gateway
	ai_strategy = {
		type = template_prio
		id = light_armor
		value = 50
	}

	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = 150
	}
	
	# Germany is set up to change their SS division into medium armor.
	ai_strategy = {
		type = template_prio
		id = motorized
		value = 200
	}
}
default_super_boost_light_for_modern_armor = {
	enable = {
		has_tech = main_battle_tank
		NOT = { has_template_ai_majority_unit = modern_armor }
	}

	abort = {	
		has_template_ai_majority_unit = modern_armor
	}

	# lets do changes more often during this period too
	ai_strategy = {
		type = template_xp_reserve 
		value = -125
	}

	# this is gateway
	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = 50
	}

	ai_strategy = {
		type = template_prio
		id = modern_armor
		value = 250
	}
}

careful_with_early_invasions_EUR = {
	enable = {
		always = yes
	}
	ai_strategy = { type = invade id = "EUR" value = 100 }
}
#careful_with_early_invasions_2IT = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2IT"
#		value = 5000
#	}
#}
#careful_with_early_invasions_2GB = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2GB"
#		value = 5000
#	}
#}
#careful_with_early_invasions_2SC = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2SC"
#		value = 5000
#	}
#}
#careful_with_early_invasions_2IB = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2IB"
#		value = 5000
#	}
#}
careful_with_early_invasions_NAM = {
	enable = {
		always = yes
	}
	ai_strategy = { type = invade id = "NAM" value = 100 }
}
#careful_with_early_invasions_2AC = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2AC"
#		value = 5000
#	}
#}
#careful_with_early_invasions_2CA = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2CA"
#		value = 5000
#	}
#}
careful_with_early_invasions_1SA = {
	enable = {
		always = yes
	}
	ai_strategy = { type = invade id = "1SA" value = 100 }
}
#careful_with_early_invasions_ASA = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = { type = invade id = "ASA" value = 100 }
#}
#careful_with_early_invasions_IND = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "IND"
#		value = 5000
#	}
#}
#careful_with_early_invasions_SEA = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "SEA"
#		value = 5000
#	}
#}
#careful_with_early_invasions_2JP = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "2JP"
#		value = 5000
#	}
#}
#careful_with_early_invasions_MDE = {
#	enable = {
#		always = yes
#	}
#	ai_strategy = {
#		type = invade
#		id = "MDE"
#		value = 5000
#	}
#}
careful_with_early_invasions_AFR = {
	enable = {
		always = yes
	}
	ai_strategy = { type = invade id = "AFR" value = 100 }
}
careful_with_early_invasions_OCE = {
	enable = {
		always = yes
	}
	ai_strategy = { type = invade id = "OCE" value = 100 }
}

everyone_is_bad = {	
	enable = {
		always = yes
	}
	ai_strategy = {
		type = prepare_for_war
		id = EUR
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2IT
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2GB
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2SC
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2IB
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = NAM
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2AC
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2CA
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 1SA
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = ASA
		value = 150
	}
	ai_strategy = {
		type = prepare_for_war
		id = IND
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = SEA
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2JP
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = MDE
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = AFR
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = OCE
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2FK
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2GR
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2SV
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2RT
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2BK
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2RS
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2MN
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2MC
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2CN
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2CS
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2CI
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2NA
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2SA
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = 2PY
		value = 100
	}
}

2GB_focus_on_eng_isles = {
	allowed = {
		OR = {
			tag = 2GB
		}
	}
	enable = {
		date > 1938.1.1
	}
	ai_strategy = {
		type = invade
		id = "2FK"
		value = 50
	}
	ai_strategy = {
		type = invade
		id = "2GR"
		value = 50
	}
	ai_strategy = {
		type = invade
		id = "EUR"
		value = 50
	}
}
EUR_focus_on_eng_isles = {
	allowed = {
		OR = {
			tag = EUR
			#tag = 2GB
		}
	}
	
	enable = {
		date > 1938.1.1
	}
	
	ai_strategy = {
		type = front_unit_request
		area = eng_isles
		value = 250
	}
}
EUR_garrison_atlantic_wall = {
	allowed = { tag = EUR }
	enable = {
		any_enemy_country = {
			is_ai = no
			is_major = yes
			#naval_strength_ratio = { tag = EUR ratio > 1.0 }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.15
		states = { 
			99
			58
			59
			56
			36
			7
			35
			6
			29
			758
			15
			14
			30
			23
			19
			31
			22
			21
		}
		subtract_invasions_from_need = yes
		subtract_fronts_from_need = yes
	}
}
